<div class="contenedor">
	<h1>{{title}}</h1>

	<div *ngIf="status == 'bien'">
		<p>El proyecto se ha creado correctamente, puedes <a [routerLink]="['/proyecto',project._id]">verlo aqui</a></p>
	</div>

	<div *ngIf="status == 'fail'">
		<p>El proyecto no se ha podido crear correctamente</p>
	</div>

	<form #projectForm="ngForm" (ngSubmit)="onSubmit(projectForm)">
		<p>
			<label for="name"> Nombre </label>
			<input type="text" name="name" #name="ngModel" [(ngModel)]="project.name" required>
			<span *ngIf="name.touched && !name.valid"> El nombre es obligatorio </span>
		</p>

		<p>
			<label for="autor"> Autor </label>
			<input type="text" name="autor" #autor="ngModel" [(ngModel)]="project.autor" required>
			<span *ngIf="autor.touched && !autor.valid"> El autor es obligatorio </span>
		</p>

		<p>
			<label for="year"> Año </label>
			<input type="number" name="year" #year="ngModel" [(ngModel)]="project.year" required>
			<span *ngIf="year.touched && !year.valid"> El año es obligatorio </span>
		</p>

		<p>
			<label for="category"> Categoria </label>
			<input type="text" name="category" #category="ngModel" [(ngModel)]="project.category" required>
			<span *ngIf="category.touched && !category.valid"> La categoria es obligatoria </span>
		</p>

		<p>
			<label for="langs"> Lenguajes </label>
			<textarea name="langs" #langs="ngModel" [(ngModel)]="project.langs" required> </textarea>
			<span *ngIf="langs.touched && !langs.valid"> Los lenguajes son obligatorios </span>
		</p><br>
		
		<span *ngIf="project.image">
			<img src="{{url+'getImage/'+project.image}}" width="100" height='100'>
		</span>
		<input type="file" name="image" (change)="fileChangeEvent($event)"><br>

		<input type="submit" name="submit" value="ENVIAR" [disabled]="!projectForm.form.valid">
	</form>
</div>

